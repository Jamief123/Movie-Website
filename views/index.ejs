<% include ./partials/header %>
<% include ./partials/navbar %>

<div class="container">
    <div id="carousel">
        <div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <%if(data.results[0].backdrop_path) {%>
                        <img class="d-block w-100" src="http://image.tmdb.org/t/p/w1280<%= data.results[0].backdrop_path %>" alt="First slide">
                    <% }else{ %>
                        <img class="d-block w-100" src="/images/NoImageFound.png" alt="First slide">
                        <% } %>
                </div>
                <% for(var i = 1; i < data.results.length; i++) { %>
                    <div class="carousel-item">
                        <%if(data.results[i].backdrop_path) {%>
                            <img class="d-block w-100" src="http://image.tmdb.org/t/p/w1280<%= data.results[i].backdrop_path %>" alt="Second slide">
                        <% }else{ %>
                            <img class="d-block w-100" src="/images/NoImageFound.png" alt="First slide">
                            <% } %>
                        </div>
                <% };%>
                <!-- <div class="filters">
                        <label for="year">Year</label>
                        <br>
                        <select id="year"></select>
                
                        <label  id="labelSortBy"for="sortBy">Sort By</label>
                        <br>
                        <select id="sortBy">
                            <option>Popularity: Descending</option>
                            <option>Popularity: Ascending</option>
                            <option>Rating: Descending</option>
                            <option>Rating: Ascending</option>
                        </select>
        
                </div> -->
            </div>
            <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
        
    </div>  

    <script src="/scripts/yearDropdown.js"></script>


    <div class="row">
        <% data.results.forEach((movie) => { %>
            <div class="col-md-6">
                <div class="imgContainer">
                    <%if(movie.poster_path) {%>
                        <a href="https://www.themoviedb.org/movie/<%= movie.id %>"><img src="http://image.tmdb.org/t/p/w500<%= movie.poster_path %>" /></a>
                        <% }else{ %>
                            <a href="https://www.themoviedb.org/movie/<%= movie.id %>"><img src="/images/NoImageFoundSmall" /></a>
                            <%}%>
                            <div class="movieInfo">
                                <div class="movieTitle">
                                <%= movie.title %>
                                </div>
                                <div class="movieDescription">
                                    <p><%= movie.overview.substring(0,250) %>...</p>
                                </div>
                                <div class="movieRating">
                                        <hr>
                                    <p>Rating: <%= movie.vote_average %></p>
                                    <a href="/movies/<%= movie.id %>">More Info</a>
                                </div>
                            </div>
                    </div>
            </div>
        <% }) %>
    </div>

    <div class="pagination">
        <ul>
            <li><a href="/1">1</a></li>
            <li><a href="/2">2</a></li>
            <li><a href="/3">3</a></li>
            <li><a href="/4">4</a></li>
            <li><a href="/5">5</a></li>
            <li><a href="/6">6</a></li>
            <li><a href="/7">7</a></li>
            <li><a href="/8">8</a></li>
            <li><a href="/9">9</a></li>
            <li><a href="/10">10</a></li>
        </ul>
        </div>
</div>
     
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>


    

